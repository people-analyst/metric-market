# ============================================================================
# Embedded AI Developer SDK v1.1.0 — Configuration Template
# ============================================================================
# Copy this file to .env and configure as needed
# Project: Metric Market
# SDK Version: 1.1.0
# ============================================================================

# ----------------------------------------------------------------------------
# AGENT CONFIGURATION
# ----------------------------------------------------------------------------

# Agent operation mode
# Values: "semi" (requires approval) | "auto" (fully automated)
# Default: semi
AGENT_MODE=semi

# AI model to use for task execution
# Recommended: claude-sonnet-4-5
# Default: claude-sonnet-4-5
AGENT_MODEL=claude-sonnet-4-5

# Maximum tool-use iterations per task (v1.1.0 feature)
# Controls how many rounds of tools the agent can use
# Range: 10-50, Recommended: 25
# Default: 25
AGENT_MAX_ITERATIONS=25

# Wind-down buffer for graceful task completion (v1.1.0 feature)
# Number of iterations reserved for summarization and cleanup
# Range: 1-5, Recommended: 3
# Default: 3
AGENT_WINDDOWN_BUFFER=3

# ----------------------------------------------------------------------------
# HUB CONFIGURATION (Optional)
# ----------------------------------------------------------------------------

# Hub URL for task polling and coordination
# Default: http://localhost:5000
HUB_URL=http://localhost:5000

# Hub API key for authentication (optional)
# Leave empty for local development
HUB_API_KEY=

# Alternative hub URL (legacy support)
# PLATFORM_HUB_URL=http://localhost:5000

# ----------------------------------------------------------------------------
# AGENT BEHAVIOR (Advanced)
# ----------------------------------------------------------------------------

# Task polling interval in milliseconds
# Default: 60000 (60 seconds)
# AGENT_POLL_INTERVAL=60000

# Maximum concurrent tasks
# Default: 1
# AGENT_MAX_CONCURRENT=1

# Task priorities to process (comma-separated)
# Default: critical,high,medium
# AGENT_PRIORITIES=critical,high,medium

# ----------------------------------------------------------------------------
# PROJECT CONTEXT (v1.1.0 Feature)
# ----------------------------------------------------------------------------

# The SDK automatically loads project context from:
# - agent-context.md (if present in project root)
# - Standard project files (package.json, README.md, etc.)
#
# To provide custom context, create agent-context.md with project info

# ----------------------------------------------------------------------------
# ANTHROPIC API (Required for AI operations)
# ----------------------------------------------------------------------------

# Anthropic API key for Claude models
# Required for SDK operation
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------

# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/metric_market

# ----------------------------------------------------------------------------
# SESSION & AUTH
# ----------------------------------------------------------------------------

# Session secret for Express sessions
SESSION_SECRET=your-session-secret-here

# ----------------------------------------------------------------------------
# DEVELOPMENT OPTIONS
# ----------------------------------------------------------------------------

# Node environment
NODE_ENV=development

# Log level
# LOG_LEVEL=info

# ----------------------------------------------------------------------------
# v1.1.0 FEATURES SUMMARY
# ----------------------------------------------------------------------------
#
# ✅ Wind-down buffer (AGENT_WINDDOWN_BUFFER)
#    Reserves iterations for graceful task completion
#
# ✅ Pause-and-continue operations
#    Automatically handles task resumption (built-in)
#
# ✅ Environment-configurable budget (AGENT_MAX_ITERATIONS)
#    Control tool-use limits per task
#
# ✅ Project context loading
#    Reads from agent-context.md (optional file)
#
# ✅ Same-origin auth middleware
#    Built-in security for SDK endpoints
#
# ----------------------------------------------------------------------------

# ============================================================================
# QUICK START
# ============================================================================
#
# 1. Copy this file:
#    cp .env.embedded-ai-example .env
#
# 2. Set your Anthropic API key:
#    ANTHROPIC_API_KEY=sk-ant-...
#
# 3. Configure agent mode:
#    AGENT_MODE=semi (recommended for development)
#
# 4. Start the server:
#    npm run dev
#
# 5. Verify SDK is loaded:
#    Look for: [Embedded AI SDK v1.1.0] Mounted on Express app
#
# ============================================================================
